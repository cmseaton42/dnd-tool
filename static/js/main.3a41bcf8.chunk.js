(this["webpackJsonpdnd-tool"]=this["webpackJsonpdnd-tool"]||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/swords.19af7b51.svg"},122:function(e,t,a){e.exports=a(133)},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=a(184),l=a(192),u=a(63),m=a(108),s=a(191),d=a(185),b=a(67),p=a(107),h=a(17),f=a(37),g=a(93),E=a(13),v=a(73),y=a(187),C={combatants:[]};var O=Object(f.combineReducers)({combantants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMBATANT":return{combatants:[].concat(Object(v.a)(e.combatants),[t.payload])};case"DELETE_COMBATANT":return{combatants:e.combatants.filter((function(e){return e.id!==t.id}))};case"UPDATE_REMAINING_HP":return{combatants:e.combatants.map((function(e){return e.id!==t.payload.id?e:Object(E.a)(Object(E.a)({},e),{},{hitPoints:Object(E.a)(Object(E.a)({},e.hitPoints),{},{remaining:t.payload.value>0?t.payload.value<=e.hitPoints.max?Math.round(t.payload.value):e.hitPoints.max:0})})}))};case"UPDATE_INITIATIVE":return{combatants:e.combatants.map((function(e){return e.id!==t.payload.id?e:Object(E.a)(Object(E.a)({},e),{},{initiative:t.payload.value})}))};case"UPDATE_COMBATANT":return{combatants:e.combatants.map((function(e){return e.id!==t.payload.id?e:t.payload.combatant}))};case"ROLL_INITIATIVE":return{combatants:e.combatants.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{initiative:Math.floor(20*Math.random())+1+e.initiativeModifier})}))};case"COPY_COMBATANT":var a=e.combatants.filter((function(e){return e.id===t.id})),n=1===a.length?a[0]:null;if(n)return{combatants:[].concat(Object(v.a)(e.combatants),[Object(E.a)(Object(E.a)({},n),{},{id:Object(y.a)()})])};default:return e}}}),j=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),I=Object(f.createStore)(O,j,Object(g.devToolsEnhancer)({}));I.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({combantants:I.getState().combantants})}));var A=a(178),N=a(12),x=a(177),T=a(189),k=a(176),w=a(171),S=a(170),M=a(174),P=a(194),W=a(193),D=a(186),_=a(195),R=function(e){var t=e.open,a=e.onClose,n=r.a.useState("Combatant"),i=Object(N.a)(n,2),o=i[0],c=i[1],l=r.a.useState("character"),u=Object(N.a)(l,2),m=u[0],s=u[1],d=r.a.useState({max:10,remaining:10,temporary:0}),b=Object(N.a)(d,2),p=b[0],f=b[1],g=r.a.useState(13),v=Object(N.a)(g,2),C=v[0],O=v[1],j=r.a.useState(0),I=Object(N.a)(j,2),A=I[0],R=I[1],z=Object(h.b)(),B=o.length>=3,L=m.length>0,q=p.max>=p.remaining&&p.max>0&&p.remaining>0&&p.temporary>=0,U=B&&L&&q&&C>0&&(A>=-10&&A<=10),H=function(){z({type:"ADD_COMBATANT",payload:{id:Object(y.a)(),armorClass:C,conditions:[],hitPoints:p,initiative:10,initiativeModifier:A,name:o,type:m}}),c("Combatant"),s("character"),f({max:0,remaining:0,temporary:0}),O(13),a()};return r.a.createElement(T.a,{maxWidth:"sm",open:t,onClose:function(){return a()}},r.a.createElement(S.a,null,"Add Combatant"),r.a.createElement(w.a,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),H()},style:{width:"100%"}},r.a.createElement(W.a,{autoFocus:!0,margin:"dense",label:"Name",type:"text",fullWidth:!0,value:o,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(W.a,{margin:"dense",label:"Armor Class",type:"number",fullWidth:!0,value:C,onChange:function(e){var t=parseInt(e.target.value);t>0&&O(t)},required:!0}),r.a.createElement(W.a,{margin:"dense",label:"HP",type:"number",fullWidth:!0,value:p.max,onChange:function(e){var t=parseInt(e.target.value);t>0&&f(Object(E.a)(Object(E.a)({},p),{},{max:t,remaining:t}))},required:!0}),r.a.createElement(W.a,{margin:"dense",label:"Initiative Mod",type:"number",fullWidth:!0,value:A,onChange:function(e){var t=parseInt(e.target.value);t>=-10&&t<=10&&R(t)},required:!0})),r.a.createElement(M.a,{fullWidth:!0},r.a.createElement(P.a,null,"Combatant Type"),r.a.createElement(D.a,{value:m,onChange:function(e){s(e.target.value)},style:{width:"100%"}},["character","ally","hostile","neutral"].map((function(e){return r.a.createElement(_.a,{key:e,value:e},e)})))))),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"primary",variant:"contained",style:{fontWeight:"bold"},onClick:H,disabled:!U},"Submit")))},z=a(74),B=a(134),L=a(3),q=function(e){var t=e.open,a=e.onClose,n=e.combatant,i=r.a.useState(n.initiative),o=Object(N.a)(i,2),c=o[0],l=o[1],u=Object(h.b)(),m=c>0&&c<=30,s=function(){u({type:"UPDATE_INITIATIVE",payload:{id:n.id,value:c}}),a()};return r.a.createElement(T.a,{maxWidth:"sm",open:t,onClose:function(){return a()}},r.a.createElement(S.a,null,"Update Initiative"),r.a.createElement(w.a,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s()},style:{width:"100%"}},r.a.createElement(W.a,{autoFocus:!0,margin:"dense",label:"Initiative",type:"number",fullWidth:!0,value:c,onChange:function(e){return l(Math.round(parseInt(e.target.value)))},required:!0,inputProps:{min:0}}))),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"primary",variant:"contained",style:{fontWeight:"bold"},onClick:s,disabled:!m},"Submit")))},U=function(e){var t=e.open,a=e.onClose,n=e.combatant,i=r.a.useState(n.name),o=Object(N.a)(i,2),c=o[0],l=o[1],u=r.a.useState(n.type),m=Object(N.a)(u,2),s=m[0],d=m[1],b=r.a.useState(n.hitPoints),p=Object(N.a)(b,2),f=p[0],g=p[1],v=r.a.useState(n.armorClass),y=Object(N.a)(v,2),C=y[0],O=y[1],j=r.a.useState(n.initiativeModifier),I=Object(N.a)(j,2),A=I[0],R=I[1],z=Object(h.b)(),B=c.length>=3,L=s.length>0,q=f.max>=f.remaining&&f.max>0&&f.remaining>0&&f.temporary>=0,U=B&&L&&q&&C>0&&(A>=-10&&A<=10),H=function(){z({type:"UPDATE_COMBATANT",payload:{id:n.id,combatant:{id:n.id,armorClass:C,conditions:n.conditions,hitPoints:f,initiative:n.initiative,initiativeModifier:A,name:c,type:s}}}),a()};return r.a.createElement(T.a,{maxWidth:"sm",open:t,onClose:function(){return a()}},r.a.createElement(S.a,null,"Edit Combatant"),r.a.createElement(w.a,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),H()},style:{width:"100%"}},r.a.createElement(W.a,{autoFocus:!0,margin:"dense",label:"Name",type:"text",fullWidth:!0,value:c,onChange:function(e){return l(e.target.value)},required:!0}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(W.a,{margin:"dense",label:"Armor Class",type:"number",fullWidth:!0,value:C,onChange:function(e){var t=parseInt(e.target.value);t>0&&O(t)},required:!0}),r.a.createElement(W.a,{margin:"dense",label:"HP",type:"number",fullWidth:!0,value:f.max,onChange:function(e){var t=parseInt(e.target.value);t>0&&g(Object(E.a)(Object(E.a)({},f),{},{max:t,remaining:t}))},required:!0}),r.a.createElement(W.a,{margin:"dense",label:"Initiative Mod",type:"number",fullWidth:!0,value:A,onChange:function(e){var t=parseInt(e.target.value);t>=-10&&t<=10&&R(t)},required:!0})),r.a.createElement(M.a,{fullWidth:!0},r.a.createElement(P.a,null,"Combatant Type"),r.a.createElement(D.a,{value:s,onChange:function(e){d(e.target.value)},style:{width:"100%"}},["character","ally","hostile","neutral"].map((function(e){return r.a.createElement(_.a,{key:e,value:e},e)})))))),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"primary",variant:"contained",style:{fontWeight:"bold"},onClick:H,disabled:!U},"Submit")))},H=a(190),V=a(62),F=a(66),G=a(179),J=a(96),Y=a.n(J),K=a(95),X=a.n(K),Q=function(e){var t=e.combatant,a=e.height,n=e.width,i=e.showTools,o=e.color,c=r.a.useState(5),l=Object(N.a)(c,2),u=l[0],m=l[1],s=Object(h.b)(),d=t.hitPoints,b=d.remaining>=.666*d.max,p=d.remaining<=.3333*d.max,f=!b&&!p,g=n||100,E=a||10,v=Math.round(d.remaining/d.max*g),y=Z({height:E,width:g,remaining:v,color:o||V.a}),C=b?y.healthy:f?y.injured:p?y.bloodied:null,O=void 0===i||i,j=function(e){return function(){s({type:"UPDATE_REMAINING_HP",payload:{id:t.id,value:"ADD"===e?d.remaining+u:d.remaining-u}}),m(5)}};return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(H.a,{title:"HP: ".concat(d.remaining," / ").concat(d.max," - Temp: ").concat(d.temporary)},r.a.createElement("div",{className:y.outer},r.a.createElement("div",{className:Object(L.a)(y.inner,C)}))),O&&r.a.createElement("div",{style:{width:g,height:15,position:"absolute",top:E+3,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(H.a,{title:"Apply Indicated Damage"},r.a.createElement(X.a,{onClick:j("REMOVE"),className:Object(L.a)(y.icon,y.minus)})),r.a.createElement(H.a,{title:"Amount to Adjust Health By"},r.a.createElement("input",{type:"number",value:u,onChange:function(e){var t=Math.round(parseInt(e.target.value));t>0&&m(t)},className:y.healthInput,min:1})),r.a.createElement(H.a,{title:"Heal Indicated Ammount"},r.a.createElement(Y.a,{onClick:j("ADD"),className:Object(L.a)(y.icon,y.plus)}))))},Z=Object(A.a)((function(e){return{outer:{width:function(e){return e.width},height:function(e){return e.height},background:e.palette.grey[300],borderRadius:function(e){return Math.round(e.height/2)},position:"relative"},inner:{position:"absolute",top:0,left:0,background:u.a[300],borderRadius:function(e){return Math.round(e.height/2)},height:function(e){return e.height},width:function(e){return e.remaining},transition:"all 275ms ease-in-out"},healthy:{background:F.a.A400},injured:{background:G.a.A400},bloodied:{background:u.a.A400},healthInput:{width:40,border:"none",background:"transparent",color:function(e){return e.color[500]},fontSize:14,textAlign:"center","&:focus":{outline:"none"}},icon:{fontSize:25,padding:2,"&:hover":{cursor:"pointer"}},minus:{color:u.a[300],marginRight:13,"&:hover":{color:u.a[500],transition:"all 200ms ease-in-out"}},plus:{color:F.a[300],"&:hover":{color:F.a[500],transition:"all 200ms ease-in-out"}}}})),$=a(196),ee=a(180),te=a(102),ae=a.n(te),ne=a(103),re=a.n(ne),ie=a(98),oe=a.n(ie),ce=a(99),le=a.n(ce),ue=a(100),me=a.n(ue),se=a(101),de=a.n(se),be=a(97),pe=a.n(be),he=a(181),fe=a(182),ge=a(65),Ee=a(64),ve=function(e){var t=e.combatant,a=Ce(t.type),n=ye({color:a}),i=t.name,o=t.type,c=t.id,l=t.armorClass,m=t.initiative,s=Object(h.b)(),d=r.a.useState(!1),b=Object(N.a)(d,2),p=b[0],f=b[1],g=r.a.useState(!1),E=Object(N.a)(g,2),v=E[0],y=E[1],C=r.a.useState(!1),O=Object(N.a)(C,2),j=O[0],I=O[1],A=t.hitPoints.remaining<=0;return r.a.createElement("div",{className:Object(L.a)(n.container,n.wrapper)},r.a.createElement("div",{className:n.container},r.a.createElement(B.a,{style:{color:a[500],fontWeight:600,fontSize:18},noWrap:!0},i||"Rezkin"),r.a.createElement(H.a,{title:o},r.a.createElement($.a,{className:n.typeChip,label:"character"===o?"PC":o,size:"small"})),r.a.createElement(H.a,{title:"Armor Class: ".concat(l)},r.a.createElement($.a,{className:n.typeChip,label:l,size:"small",icon:r.a.createElement(oe.a,{className:n.shieldIcon})})),r.a.createElement(H.a,{title:"Initiative: ".concat(m)},r.a.createElement(ee.a,{color:"secondary",badgeContent:t.initiativeModifier>=0?r.a.createElement("strong",null,"+".concat(t.initiativeModifier)):r.a.createElement("strong",null,"".concat(t.initiativeModifier)),invisible:!j},r.a.createElement("div",{onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)}},r.a.createElement($.a,{className:n.initChip,label:m,size:"small",onClick:function(){return f(!0)},icon:r.a.createElement(le.a,{className:n.initIcon}),clickable:!0})))),r.a.createElement(H.a,{title:"Edit Combatant Details"},r.a.createElement(me.a,{onClick:function(){return y(!0)},className:Object(L.a)(n.icon,n.edit)})),r.a.createElement(H.a,{title:"Copy Combatant"},r.a.createElement(de.a,{onClick:function(){return s({type:"COPY_COMBATANT",id:c})},className:Object(L.a)(n.icon,n.copy)})),r.a.createElement(H.a,{title:"Delete Combatant"},r.a.createElement(ae.a,{onClick:function(){return s({type:"DELETE_COMBATANT",id:c})},className:Object(L.a)(n.icon,n.delete)}))),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.container},!A&&r.a.createElement(re.a,{fontSize:"small",style:{color:u.a.A400,marginRight:2}}),A&&r.a.createElement("img",{src:pe.a,className:n.deadIcon,alt:"Skull Icon"}),r.a.createElement(Q,{combatant:t,color:a}),r.a.createElement("input",{className:n.healthInput,value:t.hitPoints.remaining,onChange:function(e){var a=parseInt(e.target.value)||0;a<=t.hitPoints.max&&s({type:"UPDATE_REMAINING_HP",payload:{id:t.id,value:a}})},type:"number",min:0})),r.a.createElement(q,{open:p,onClose:function(){return f(!1)},combatant:t}),r.a.createElement(U,{open:v,onClose:function(){return y(!1)},combatant:t}))},ye=Object(A.a)((function(e){return{wrapper:Object(E.a)({border:function(e){return"".concat(e.color[400]," 2px solid")},margin:e.spacing(.5),padding:e.spacing(2),borderRadius:5,width:"100%",background:function(e){return e.color[50]},overflowX:"auto"},e.scrollbar),icon:{padding:e.spacing(.1),"&:hover":{cursor:"pointer"}},edit:{color:he.a[300],marginLeft:2,"&:hover":{color:he.a[400]}},copy:{color:he.a[200],"&:hover":{color:he.a[300]}},delete:{color:u.a[300],"&:hover":{color:u.a[500]}},container:{display:"flex",justifyContent:"center",alignItems:"center"},typeChip:{color:e.palette.common.white,fontWeight:"bold",marginLeft:e.spacing(.5),background:function(e){return e.color[400]}},shieldIcon:{color:fe.a[600],fontWeight:"bold"},initChip:{color:e.palette.common.white,fontWeight:"bold",marginLeft:e.spacing(.5),background:function(e){return e.color[400]},"&:hover":{cursor:"pointer",background:function(e){return e.color[600]},transition:"all 200ms ease-in-out"},"&:focus":{background:function(e){return e.color[400]}}},initIcon:{color:e.palette.common.white,fontWeight:"bold"},spacer:{flexGrow:1},healthInput:{width:50,border:"none",background:"transparent",color:function(e){return e.color[500]},fontSize:18,textAlign:"center","&:focus":{outline:"none"}},deadIcon:{height:21,marginRight:2}}})),Ce=function(e){switch(e){case"character":return ge.a;case"hostile":return u.a;case"ally":return F.a;case"neutral":return Ee.a}},Oe=a(104),je=a.n(Oe),Ie=a(105),Ae=a.n(Ie),Ne=a(106),xe=a.n(Ne),Te=function(){var e=ke(),t=Object(h.c)((function(e){return e.combantants})).combatants,a=r.a.useState(!1),n=Object(N.a)(a,2),i=n[0],o=n[1],c=Object(h.b)(),l=t.sort((function(e,t){return t.initiative-e.initiative}));return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.container},r.a.createElement("img",{src:je.a,className:e.headerIcon,alt:"Sword Icon"}),r.a.createElement(B.a,{color:"primary",variant:"h3"},"Combat Tracker")),r.a.createElement("div",{style:{margin:8},className:e.container},r.a.createElement(x.a,{style:{margin:2,color:"white",fontWeight:"bold"},color:"secondary",variant:"contained",startIcon:r.a.createElement(Ae.a,null),onClick:function(){return o(!0)}},"Combatant"),r.a.createElement(x.a,{style:{margin:2,color:"white",fontWeight:"bold"},color:"secondary",variant:"contained",onClick:function(){return c({type:"ROLL_INITIATIVE"})},startIcon:r.a.createElement(xe.a,null)},"Roll Initiative")),r.a.createElement(R,{open:i,onClose:function(){return o(!1)}}),r.a.createElement(z.b,{flipKey:l.map((function(e){return e.id})).join(" ")},r.a.createElement("ul",null,l.map((function(e){return r.a.createElement(z.a,{key:e.id,flipId:e.id},r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(ve,{combatant:e})))})))))},ke=Object(A.a)((function(e){return{wrapper:{display:"flex",justifyContent:"center",flexDirection:"column"},container:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},headerIcon:{height:40,marginRight:e.spacing(1)}}})),we=a(183),Se=function(){var e=Me();return r.a.createElement(we.a,{container:!0,justify:"center",className:e.root},r.a.createElement(we.a,{item:!0,xs:12,sm:11,md:6,lg:5},r.a.createElement(Te,null)))},Me=Object(A.a)((function(e){return{root:{height:"100vh",padding:e.spacing(2)}}})),Pe=Object(m.a)({palette:{primary:{main:"#4289b3"},secondary:{main:"#6153cc"},error:{main:u.a[600]}},scrollbar:{boxSizing:"border-box",overflow:"auto","&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"#cacad0",height:"20px"}},overrides:{MuiTooltip:{tooltip:{backgroundColor:"#4289b3",fontWeight:"bold"},arrow:{color:"#4289b3"}}}});Pe=Object(s.a)(Pe);var We=Object(p.a)();We.listen((function(e){b.a.set({page:e.pathname}),b.a.pageview(e.pathname)})),b.a.initialize("UA-159136712-3");var De=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(h.a,{store:I},r.a.createElement(d.a,{theme:Pe},r.a.createElement(l.c,{history:We},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:Se}),r.a.createElement(l.a,{to:"/"}))))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root"))},97:function(e,t,a){e.exports=a.p+"static/media/skull.246b879b.svg"}},[[122,1,2]]]);
//# sourceMappingURL=main.3a41bcf8.chunk.js.map